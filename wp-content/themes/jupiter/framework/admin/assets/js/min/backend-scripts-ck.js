function mk_composer_toggle(){jQuery(".mk-composer-toggle").each(function(){default_value=jQuery(this).find("input").val();if(default_value=="true"){jQuery(this).addClass("mk-toggle-on")}else{jQuery(this).addClass("mk-toggle-off")}jQuery(this).click(function(){if(jQuery(this).hasClass("mk-toggle-on")){jQuery(this).removeClass("mk-toggle-on").addClass("mk-toggle-off");jQuery(this).find("input").val("false")}else{jQuery(this).removeClass("mk-toggle-off").addClass("mk-toggle-on");jQuery(this).find("input").val("true")}})})}function mk_upload_option(){if(typeof wp.media!="undefined"){var a=true,b=wp.media.editor.send.attachment;jQuery(".option-upload-button").click(function(c){var d=wp.media.editor.send.attachment;var e=jQuery(this);var f=e.attr("id").replace("_button","");a=true;wp.media.editor.send.attachment=function(c,d){if(a){jQuery("#"+f).val(d.url);jQuery("#"+f+"-preview img").attr("src",d.url)}else{return b.apply(this,[c,d])}};wp.media.editor.open(e);return false});jQuery(".add_media").on("click",function(){a=false})}}function mk_shortcode_fonts(){jQuery("#font_family").change(function(){jQuery("#font_family option:selected").each(function(){var a=jQuery(this).attr("data-type");jQuery("#font_type").val(a)})}).change()}function mk_range_input(){jQuery(".mk-range-input").each(function(){var a=jQuery(this).siblings(".range-input-selector"),b=parseFloat(jQuery(this).attr("data-min")),c=parseFloat(jQuery(this).attr("data-max")),d=parseFloat(jQuery(this).attr("data-step")),e=parseFloat(jQuery(this).attr("data-value"));jQuery(this).slider({value:e,min:b,max:c,step:d,slide:function(b,c){a.val(c.value)}})})}function mk_visual_selector(){jQuery(".mk-visual-selector").find("a").each(function(){default_value=jQuery(this).siblings("input").val();if(jQuery(this).attr("rel")==default_value){jQuery(this).addClass("current");jQuery(this).append('<div class="selector-tick"></div>')}jQuery(this).click(function(){jQuery(this).siblings("input").val(jQuery(this).attr("rel"));jQuery(this).parent(".mk-visual-selector").find(".current").removeClass("current");jQuery(this).parent(".mk-visual-selector").find(".selector-tick").remove();jQuery(this).addClass("current");jQuery(this).append('<div class="selector-tick"></div>');return false})})}function mk_header_selector(){var a=jQuery("#theme_header_style").val(),b=jQuery("#theme_header_align").val(),c=jQuery("#theme_toolbar_toggle").val();if(a=="3"||a=="4"){jQuery(".header-align-center").hide()}else{jQuery(".header-align-center").show()}jQuery("#mk-header-switcher").addClass("style-"+a+"-align-"+b+" toolbar-"+c);jQuery(".mk-header-styles-number").find("span").each(function(){var b=jQuery(this);if(b.attr("rel")==a){b.addClass("active")}b.on("click",function(){var a=jQuery("#theme_header_style").val(),c=jQuery("#theme_header_align").val(),d=jQuery("#theme_toolbar_toggle").val();b.siblings().removeClass("active").end().addClass("active");jQuery("#mk-header-switcher").attr("class","").addClass("style-"+b.attr("rel")+"-align-"+c+" toolbar-"+d);jQuery("#theme_header_style").val(b.attr("rel"));if(b.attr("rel")=="3"||b.attr("rel")=="4"){jQuery(".header-align-center").hide()}else{jQuery(".header-align-center").show()}})});jQuery(".mk-header-align").find("span").each(function(){var a=jQuery(this);if(a.attr("rel")==b){a.addClass("active")}a.on("click",function(){var b=jQuery("#theme_header_style").val(),c=jQuery("#theme_header_align").val(),d=jQuery("#theme_toolbar_toggle").val();a.siblings().removeClass("active").end().addClass("active");jQuery("#mk-header-switcher").attr("class","").addClass("style-"+b+"-align-"+a.attr("rel")+" toolbar-"+d);jQuery("#theme_header_align").val(a.attr("rel"))})});if(c=="true"){jQuery(".header-toolbar-toggle-button").addClass("enabled")}else{jQuery(".header-toolbar-toggle-button").removeClass("enabled").addClass("disabled")}jQuery(".header-toolbar-toggle-button").on("click",function(){var a=jQuery(this),b=jQuery("#theme_header_style").val(),c=jQuery("#theme_header_align").val(),d=jQuery("#theme_toolbar_toggle").val();a.removeClass("active").addClass("active");if(a.hasClass("enabled")){a.removeClass("enabled").addClass("disabled");toggle_value="false";jQuery("#theme_toolbar_toggle").val("false")}else{a.removeClass("disabled").addClass("enabled");toggle_value="true";jQuery("#theme_toolbar_toggle").val("true")}jQuery("#mk-header-switcher").attr("class","").addClass("style-"+b+"-align-"+c+" toolbar-"+toggle_value)})}jQuery.expr[":"].Contains=function(a,b,c){return(a.textContent||a.innerText||"").toUpperCase().indexOf(c[3].toUpperCase())>=0};function icon_filter_name(){jQuery(".page-composer-icon-filter").each(function(){jQuery(this).change(function(){var a=jQuery(this).val();var b=jQuery(this).siblings(".mk-font-icons-wrapper");if(a){jQuery(b).find("span:not(:Contains("+a+"))").parent("a").hide();jQuery(b).find("span:Contains("+a+")").parent("a").show()}else{jQuery(b).find("a").show()}return false}).keyup(function(){jQuery(this).change()})})}function mk_color_picker(){var a=jQuery;Color.prototype.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var a=parseInt(this._color,10).toString(16);if(this.error)return"";if(a.length<6){for(var b=6-a.length-1;b>=0;b--){a="0"+a}}return"#"+a};a(".color-picker").each(function(){var b=a(this),c=b.val().replace(/\s+/g,""),d=100,e,f;if(c.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)){d=parseFloat(c.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])*100}b.wpColorPicker({clear:function(a,b){e.val(100);f.val(100+"%")}});a('<div class="vc_alpha-container">'+'<label>Alpha: <output class="rangevalue">'+d+"%</output></label>"+'<input type="range" min="1" max="100" value="'+d+'" name="alpha" class="vc_alpha-field">'+"</div>").appendTo(b.parents(".wp-picker-container:first").addClass("vc_color-picker").find(".iris-picker"));e=b.parents(".wp-picker-container:first").find(".vc_alpha-field");f=b.parents(".wp-picker-container:first").find(".vc_alpha-container output");e.bind("change keyup",function(){var a=parseFloat(e.val()),c=b.data("a8cIris"),d=b.data("wpWpColorPicker");f.val(e.val()+"%");c._color._alpha=a/100;b.val(c._color.toString());d.toggler.css({backgroundColor:b.val()})}).val(d).trigger("change")})}jQuery(document).ready(function(){mk_upload_option();mk_composer_toggle();mk_color_picker();mk_header_selector();jQuery(".mk-toggle-button").each(function(){default_value=jQuery(this).find("input").val();if(default_value=="true"){jQuery(this).addClass("mk-toggle-on")}else{jQuery(this).addClass("mk-toggle-off")}jQuery(this).click(function(){if(jQuery(this).hasClass("mk-toggle-on")){jQuery(this).removeClass("mk-toggle-on").addClass("mk-toggle-off");jQuery(this).find("input").val("false")}else{jQuery(this).removeClass("mk-toggle-off").addClass("mk-toggle-on");jQuery(this).find("input").val("true")}})});mk_range_input();jQuery(".mk-chosen").chosen();jQuery(".mk-chosen-no-search").chosen({disable_search:true});if(jQuery("#special_fonts_type_1").val()=="google"){jQuery("#google_font_subset_1_wrapper").show()}else{jQuery("#google_font_subset_1_wrapper").hide()}jQuery("#special_fonts_list_1").change(function(){jQuery("#special_fonts_list_1 option:selected").each(function(){var a=jQuery(this).attr("data-type");jQuery("#special_fonts_type_1").val(a);if(a=="google"){jQuery("#google_font_subset_1_wrapper").show()}else{jQuery("#google_font_subset_1_wrapper").hide()}})}).change();if(jQuery("#special_fonts_type_2").val()=="google"){jQuery("#google_font_subset_2_wrapper").show()}else{jQuery("#google_font_subset_2_wrapper").hide()}jQuery("#special_fonts_list_2").change(function(){jQuery("#special_fonts_list_2 option:selected").each(function(){var a=jQuery(this).attr("data-type");jQuery("#special_fonts_type_2").val(a);if(a=="google"){jQuery("#google_font_subset_2_wrapper").show()}else{jQuery("#google_font_subset_2_wrapper").hide()}})}).change();jQuery("#add_sidebar_item").click(function(a){a.preventDefault();var b=jQuery(this).parents(".custom-sidebar-wrapper").siblings("#selected-sidebar").find(".default-sidebar-item").clone(true);var c=jQuery(this).siblings("#add_sidebar").val();if(c=="")return;if(jQuery("#sidebars").val()){jQuery("#sidebars").val(jQuery("#sidebars").val()+","+jQuery("#add_sidebar").val())}else{jQuery("#sidebars").val(jQuery("#add_sidebar").val())}b.removeClass("default-sidebar-item").addClass("sidebar-item");b.find(".sidebar-item-value").attr("value",c);b.find(".slider-item-text").html(c);jQuery("#selected-sidebar").append(b);jQuery(".sidebar-item").fadeIn(300);jQuery("#add_sidebar").val("")});jQuery(".sidebar-item").css("display","block");jQuery(".delete-sidebar").click(function(a){a.preventDefault();jQuery(this).parent("#sidebar-item").slideUp(300,function(){jQuery(this).remove();jQuery("#sidebars").val("");jQuery(".sidebar-item-value").each(function(){if(jQuery("#sidebars").val()){jQuery("#sidebars").val(jQuery("#sidebars").val()+","+jQuery(this).val())}else{jQuery("#sidebars").val(jQuery(this).val())}})})});jQuery("#add_tab_item").click(function(a){a.preventDefault();var b=jQuery("#mk-current-tabs").find(".default-tab-item").clone(true);var c=jQuery("#add_tab").val();var d=jQuery("#homepage_tabbed_box_pages_input").attr("data-title");var e=jQuery("#homepage_tabbed_box_pages_input").val();if(c=="")return;if(jQuery("#homepage_tabs").val()){jQuery("#homepage_tabs").val(jQuery("#homepage_tabs").val()+","+jQuery("#add_tab").val())}else{jQuery("#homepage_tabs").val(jQuery("#add_tab").val())}if(jQuery("#homepage_tabs_page_id").val()){jQuery("#homepage_tabs_page_id").val(jQuery("#homepage_tabs_page_id").val()+","+jQuery("#homepage_tabbed_box_pages_input").val())}else{jQuery("#homepage_tabs_page_id").val(jQuery("#homepage_tabbed_box_pages_input").val())}if(jQuery("#homepage_tabs_page_title").val()){jQuery("#homepage_tabs_page_title").val(jQuery("#homepage_tabs_page_title").val()+","+jQuery("#homepage_tabbed_box_pages").find(".selected_item").text())}else{jQuery("#homepage_tabs_page_title").val(jQuery("#homepage_tabbed_box_pages").find(".selected_item").text())}b.removeClass("default-tab-item").addClass("mk-tabbed-item");b.find(".mk-tab-item-value").attr("value",c);b.find(".mk-tab-item-page-id").attr("value",e);b.find(".mk-tab-item-page-title").attr("value",d);b.find(".tab-title-text").html(c);b.find(".tab-content-pane").html(d);jQuery("#mk-current-tabs").append(b);jQuery(".mk-tabbed-item").fadeIn(300);jQuery("#add_tab").val("")});jQuery(".mk-tabbed-item").css("display","block");jQuery(".delete-tab-item").click(function(a){a.preventDefault();jQuery(this).parent(".mk-tabbed-item").slideUp(300,function(){jQuery(this).remove();jQuery("#homepage_tabs").val("");jQuery("#homepage_tabs_page_id").val("");jQuery("#homepage_tabs_page_title").val("");jQuery(".mk-tab-item-value").each(function(){if(jQuery("#homepage_tabs").val()){jQuery("#homepage_tabs").val(jQuery("#homepage_tabs").val()+","+jQuery(this).val())}else{jQuery("#homepage_tabs").val(jQuery(this).val())}});jQuery(".mk-tab-item-page-id").each(function(){if(jQuery("#homepage_tabs_page_id").val()){jQuery("#homepage_tabs_page_id").val(jQuery("#homepage_tabs_page_id").val()+","+jQuery(this).val())}else{jQuery("#homepage_tabs_page_id").val(jQuery(this).val())}});jQuery(".mk-tab-item-page-title").each(function(){if(jQuery("#homepage_tabs_page_title").val()){jQuery("#homepage_tabs_page_title").val(jQuery("#homepage_tabs_page_title").val()+","+jQuery(this).val())}else{jQuery("#homepage_tabs_page_title").val(jQuery(this).val())}})})});jQuery("#add_header_social_item").click(function(a){a.preventDefault();var b=jQuery("#mk-current-social").find(".default-social-item").clone(true);var c=jQuery("#header_social_url").val();var d=jQuery("#header_social_sites_select").val();if(c===""){return}if(jQuery("#header_social_networks_site").val()){jQuery("#header_social_networks_site").val(jQuery("#header_social_networks_site").val()+","+jQuery("#header_social_sites_select").val())}else{jQuery("#header_social_networks_site").val(jQuery("#header_social_sites_select").val())}if(jQuery("#header_social_networks_url").val()){jQuery("#header_social_networks_url").val(jQuery("#header_social_networks_url").val()+","+jQuery("#header_social_url").val())}else{jQuery("#header_social_networks_url").val(jQuery("#header_social_url").val())}b.removeClass("default-social-item").addClass("mk-social-item");b.find(".mk-social-item-site").attr("value",d);b.find(".mk-social-item-url").attr("value",c);b.find(".social-item-url").html(c);b.find(".social-item-icon").html('<i class="mk-jupiter-icon-simple-'+d+'"></i>');jQuery("#mk-current-social").append(b);jQuery(".mk-social-item").fadeIn(300);jQuery("#header_social_url").val("")});jQuery(".mk-social-item").css("display","block");jQuery(".delete-social-item").click(function(a){a.preventDefault();jQuery(this).parent(".mk-social-item").slideUp(200,function(){jQuery(this).remove();jQuery("#header_social_networks_url").val("");jQuery("#header_social_networks_site").val("");jQuery(".mk-social-item-site").each(function(){if(jQuery("#header_social_networks_site").val()){jQuery("#header_social_networks_site").val(jQuery("#header_social_networks_site").val()+","+jQuery(this).val())}else{jQuery("#header_social_networks_site").val(jQuery(this).val())}});jQuery(".mk-social-item-url").each(function(){if(jQuery("#header_social_networks_url").val()){jQuery("#header_social_networks_url").val(jQuery("#header_social_networks_url").val()+","+jQuery(this).val())}else{jQuery("#header_social_networks_url").val(jQuery(this).val())}})})});function a(){var a=jQuery(".superlink-wrap");a.each(function(){var a=jQuery(this).siblings("input:hidden");var b=jQuery(this).siblings("select");var c=a.attr("name");var d=jQuery(this).children();b.change(function(){d.hide();jQuery("#"+c+"_"+jQuery(this).val()).show();a.val("")});d.change(function(){a.val(b.val()+"||"+jQuery(this).val())})})}a();mk_visual_selector();jQuery(".mk-fancy-selectbox").each(function(){var a=jQuery(this);var b=jQuery(".mk-selector-heading",this);var c=jQuery(".mk-selector-heading",this).outerWidth();var d=jQuery(".mk-select-options",this);var e=d.find(".selected").text();var f=d.find(".selected").attr("data-color");d.css("width",c);if(a.hasClass("color-based")){if(e!=""){b.find(".selected_item").text(e);b.find(".selected_color").css("background",f)}else{b.find(".selected_item").text("Select Color ...")}}else{if(e!=""){b.find(".selected_item").text(e)}else{b.find(".selected_item").text("Select Option ...")}}d.addClass("hidden");b.click(function(){if(d.hasClass("hidden")){a.addClass("selectbox-focused");d.show().removeClass("hidden").addClass("visible")}else{d.hide().removeClass("visible").addClass("hidden");a.removeClass("selectbox-focused")}});a.bind("clickoutside",function(b){d.hide();d.removeClass("visible").addClass("hidden");a.removeClass("selectbox-focused")});select_options_height=d.outerHeight();if(select_options_height>300){d.css({height:"300px",overflow:"scroll","overflow-x":"hidden"})}d.find(".mk-select-option").on("click",function(a){a.stopPropagation();$select_option=jQuery(this);$select_option.siblings().removeClass("selected");$select_option.addClass("selected");$select_option.siblings("input").attr("value",$select_option.attr("value"));selected_item=$select_option.text();$select_option.parent(".mk-select-options").siblings(".mk-selector-heading").find(".selected_item").text(selected_item);$select_option.parent(".mk-select-options").hide().removeClass("visible").addClass("hidden");$select_option.parents(".mk-fancy-selectbox").removeClass("selectbox-focused");if($select_option.parents(".mk-fancy-selectbox").hasClass("color-based")){b.find(".selected_color").css("background",$select_option.attr("data-color"))}if(d.parent().attr("id")=="homepage_tabbed_box_pages"){$select_option.siblings("input").attr("data-title",$select_option.text())}})});jQuery(".masterkey-options-page, .mk-main-pane, .mk-options-container").tabs();jQuery(".masterkey-options-page, .mk-main-pane, .mk-options-container, .mk-sub-pane").removeClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs ui-widget ui-widget-content ui-corner-all");jQuery(".mk-main-navigator, .mk-sub-navigator").removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");jQuery(".mk-main-navigator li, .mk-sub-navigator li").removeClass("ui-state-default ui-corner-top ui-corner-bottom");function b(){slideshow_choices=jQuery("#_flexslider_section_wrapper, #_edge_section_wrapper, #_banner_builder_section_wrapper, #_icarousel_section_wrapper, #_layer_slider_source_wrapper, #_rev_slider_source_wrapper");slideshow_choices.hide();source_val=jQuery("#_slideshow_source").val();if(source_val=="flexslider"){jQuery("#_flexslider_section_wrapper").show()}else if(source_val=="revslider"){jQuery("#_rev_slider_source_wrapper").show()}else if(source_val=="layerslider"){jQuery("#_layer_slider_source_wrapper").show()}else if(source_val=="icarousel"){jQuery("#_icarousel_section_wrapper").show()}else if(source_val=="banner_builder"){jQuery("#_banner_builder_section_wrapper").show()}else if(source_val=="edge"){jQuery("#_edge_section_wrapper").show()}jQuery("#_slideshow_source").change(function(){this_val=jQuery(this).val();slideshow_choices.hide();if(this_val=="flexslider"){jQuery("#_flexslider_section_wrapper").show()}else if(this_val=="revslider"){jQuery("#_rev_slider_source_wrapper").show()}else if(this_val=="layerslider"){jQuery("#_layer_slider_source_wrapper").show()}else if(this_val=="icarousel"){jQuery("#_icarousel_section_wrapper").show()}else if(this_val=="banner_builder"){jQuery("#_banner_builder_section_wrapper").show()}else if(this_val=="edge"){jQuery("#_edge_section_wrapper").show()}})}b();function c(){var a=jQuery("#_employees_single_layout_wrapper, #_header_hero_bg_color_wrapper, #_header_hero_skin_wrapper, #_header_hero_bg_image_wrapper");var b=jQuery("#_header_hero_bg_color_wrapper, #_header_hero_skin_wrapper, #_header_hero_bg_image_wrapper");a.hide();var c=jQuery("#_single_post").val();var d=jQuery("#_employees_single_layout").val();if(c=="true"){a.show()}b.hide();if(d=="style3"){b.show()}jQuery("#_single_post").change(function(){this_val=jQuery(this).val();a.hide();if(this_val=="true"){a.show()}});jQuery("#_employees_single_layout").change(function(){this_val=jQuery(this).val();b.hide();if(this_val=="style3"){b.show()}})}c();function d(){var a=jQuery("#mk-animated-column-meta #_icon_wrapper, #mk-animated-column-meta #_image_icon_wrapper");a.hide();var b=jQuery("#mk-animated-column-meta #_icon_type").val();if(b=="icon"){jQuery("#mk-animated-column-meta #_icon_wrapper").show()}else if(b=="image"){jQuery("#mk-animated-column-meta #_image_icon_wrapper").show()}jQuery("#mk-animated-column-meta #_icon_type").change(function(){var b=jQuery(this).val();a.hide();if(b=="icon"){jQuery("#mk-animated-column-meta #_icon_wrapper").show()}else if(b=="image"){jQuery("#mk-animated-column-meta #_image_icon_wrapper").show()}})}d();function e(){var a=jQuery("#edge_video_section, #edge_image_section");a.hide();var b=jQuery("#_edge_type").val();if(b=="image"){jQuery("#edge_image_section").css("display","table-row-group")}else if(b=="video"){jQuery("#edge_video_section").css("display","table-row-group")}jQuery("#_edge_type").change(function(){var b=jQuery(this).val();a.slideUp();if(b=="image"){jQuery("#edge_image_section").css("display","table-row-group")}else if(b=="video"){jQuery("#edge_video_section").css("display","table-row-group")}})}e();function f(){post_choices=jQuery("#_mp3_file_wrapper, #_classic_orientation_wrapper, #_audio_iframe_wrapper, #_ogg_file_wrapper, #_gallery_images_wrapper, #_single_video_site_wrapper, #_single_video_id_wrapper, #_disable_video_lightbox_wrapper, #_single_audio_author_wrapper");post_choices.hide();source_val=jQuery("#_single_post_type").val();if(source_val=="video"){jQuery("#_single_video_site_wrapper, #_single_video_id_wrapper, #_disable_video_lightbox_wrapper").show()}else if(source_val=="audio"){jQuery("#_mp3_file_wrapper, #_ogg_file_wrapper, #_single_audio_author_wrapper, #_audio_iframe_wrapper").show()}else if(source_val=="image"){jQuery("#_classic_orientation_wrapper").show()}else if(source_val=="portfolio"){jQuery("#_gallery_images_wrapper, #_classic_orientation_wrapper").show()}jQuery("#_single_post_type").change(function(){this_val=jQuery(this).val();post_choices.hide();if(this_val=="video"){jQuery("#_single_video_site_wrapper, #_single_video_id_wrapper, #_disable_video_lightbox_wrapper").show()}else if(this_val=="audio"){jQuery("#_mp3_file_wrapper, #_ogg_file_wrapper, #_single_audio_author_wrapper, #_audio_iframe_wrapper").show()}else if(this_val=="image"){jQuery("#_classic_orientation_wrapper").show()}else if(this_val=="portfolio"){jQuery("#_gallery_images_wrapper, #_classic_orientation_wrapper").show()}})}f();mk_background_orientation=jQuery("#background_selector_orientation").val();if(mk_background_orientation=="full_width_layout"){jQuery("#boxed_layout_shadow_size_wrapper, #boxed_layout_shadow_intensity_wrapper").hide()}else{jQuery("#boxed_layout_shadow_size_wrapper, #boxed_layout_shadow_intensity_wrapper").show()}jQuery(".mk-general-bg-selector").addClass(jQuery("#background_selector_orientation").val());jQuery(".background_selector_orientation a, #background_selector_orientation_container a").click(function(){if(jQuery(this).attr("rel")=="full_width_layout"){jQuery(".mk-general-bg-selector").removeClass("boxed_layout").addClass("full_width_layout");jQuery("#boxed_layout_shadow_size_wrapper, #boxed_layout_shadow_intensity_wrapper").hide()}else{jQuery(".mk-general-bg-selector").removeClass("full_width_layout").addClass("boxed_layout");body_section_width=jQuery(".mk-general-bg-selector .outer-wrapper").width();jQuery(".mk-general-bg-selector.boxed_layout .body-section").css("width",body_section_width);jQuery("#boxed_layout_shadow_size_wrapper, #boxed_layout_shadow_intensity_wrapper").show()}});function g(){var a=jQuery(".bg-repeat-option, .bg-attachment-option, .bg-position-option");a.each(function(){jQuery(this).find("a").on("click",function(a){a.preventDefault();jQuery(this).siblings().removeClass("selected").end().addClass("selected")})});jQuery(".bg-image-preset-thumbs").find("a").on("click",function(a){a.preventDefault();jQuery(this).parents(".bg-image-preset-thumbs").find("li").removeClass("selected").end().end().parent().addClass("selected")})}g();function h(){var a=jQuery(".header-section, .page-section, .footer-section, .body-section, .banner-section");a.each(function(){jQuery(this).on("click",function(a){a.preventDefault();this_panel=jQuery(this);this_panel_rel=jQuery(this).attr("rel");jQuery("#mk-bg-edit-panel").fadeIn(200);color_id="#"+this_panel_rel+"_color";image_id="#"+this_panel_rel+"_image";size_id="#"+this_panel_rel+"_size";parallax_id="#"+this_panel_rel+"_parallax";position_id="#"+this_panel_rel+"_position";repeat_id="#"+this_panel_rel+"_repeat";attachment_id="#"+this_panel_rel+"_attachment";source_id="#"+this_panel_rel+"_source";color_value=jQuery(color_id).val();image_value=jQuery(image_id).val();size_value=jQuery(size_id).val();parallax_value=jQuery(parallax_id).val();position_value=jQuery(position_id).val();repeat_value=jQuery(repeat_id).val();attachment_value=jQuery(attachment_id).val();source_value=jQuery(source_id).val();jQuery("#bg_panel_color").attr("value",color_value);jQuery("#bg_panel_color").siblings(".minicolors-swatch").find("span").css("background-color",color_value);jQuery("#bg_panel_stretch").attr("value",size_value);if(size_value=="true"){jQuery("#bg_panel_stretch").parent().removeClass("off").addClass("on")}else{jQuery("#bg_panel_stretch").parent().removeClass("on").addClass("off")}jQuery("#bg_panel_parallax").attr("value",parallax_value);if(parallax_value=="true"){jQuery("#bg_panel_parallax").parent().removeClass("off").addClass("on")}else{jQuery("#bg_panel_parallax").parent().removeClass("on").addClass("off")}jQuery('#mk-bg-edit-panel a[rel="'+position_value+'"]').siblings().removeClass("selected").end().addClass("selected");jQuery('#mk-bg-edit-panel a[rel="'+repeat_value+'"]').siblings().removeClass("selected").end().addClass("selected");jQuery('#mk-bg-edit-panel a[rel="'+attachment_value+'"]').siblings().removeClass("selected").end().addClass("selected");if(source_value=="preset"&&image_value!=""){jQuery('#mk-bg-edit-panel a[rel="'+image_value+'"]').parent("li").siblings().removeClass("selected").end().addClass("selected")}else if(source_value=="custom"&&image_value!=""){jQuery("#bg_panel_upload").attr("value",image_value);jQuery(".custom-image-preview-block img").attr("src",jQuery("#bg_panel_upload").val())}jQuery("#mk-bg-edit-panel").attr("rel",jQuery(this).attr("rel"));jQuery("#mk-bg-edit-panel").find(".mk-edit-panel-heading").text(jQuery(this).attr("rel"));jQuery(".bg-background-type-tabs").find('a[rel="'+source_value+'"]').parent().siblings().removeClass("current").end().addClass("current");jQuery("#mk-bg-edit-panel").find(".bg-background-type-panes").children(".bg-background-type-pane").hide();if(source_value=="preset"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-image-preset").show()}else if(source_value=="no-image"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-no-image").show()}else if(source_value=="custom"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-edit-panel-upload").show()}jQuery("#mk-bg-edit-panel").find(".bg-background-type-tabs a").on("click",function(a){a.preventDefault();jQuery("#mk-bg-edit-panel").find(".bg-background-type-panes").children(".bg-background-type-pane").hide();jQuery(this).parent().siblings().removeClass("current").end().addClass("current");if(jQuery(this).attr("rel")=="preset"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-image-preset").show()}else if(jQuery(this).attr("rel")=="no-image"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-no-image").show()}else if(jQuery(this).attr("rel")=="custom"){jQuery("#mk-bg-edit-panel").find(".bg-background-type-pane.bg-edit-panel-upload").show()}})})})}h();jQuery("#mk_cancel_bg_selector, .mk-bg-edit-panel-heading-cancel").on("click",function(a){a.preventDefault();jQuery("#mk-bg-edit-panel").fadeOut(200)});jQuery(document).keyup(function(a){if(a.keyCode==27){jQuery("#mk_cancel_bg_selector, .mk-bg-edit-panel-heading-cancel").click()}});jQuery(document).keyup(function(a){if(a.keyCode==13){jQuery("#mk_apply_bg_selector").click()}});function i(){jQuery("#mk_apply_bg_selector").on("click",function(a){a.preventDefault();panel=jQuery("#mk-bg-edit-panel");panel_source=panel.attr("rel");section_preview_class="."+panel_source+"-section";color=panel.find("#bg_panel_color").val();bg_size=panel.find("#bg_panel_stretch").val();bg_parallax=panel.find("#bg_panel_parallax").val();position=jQuery(".bg-position-option").find(".selected").attr("rel");repeat=jQuery(".bg-repeat-option").find(".selected").attr("rel");attachment=jQuery(".bg-attachment-option").find(".selected").attr("rel");image_source=jQuery(".bg-background-type-tabs").find(".current").children("a").attr("rel");if(image_source=="preset"){image=jQuery(".bg-image-preset-thumbs").find(".selected").children("a").attr("rel")}else if(image_source=="custom"){image=jQuery("#bg_panel_upload").val()}else if(image_source=="no-image"){image=""}color_id="#"+panel_source+"_color";image_id="#"+panel_source+"_image";size_id="#"+panel_source+"_size";parallax_id="#"+panel_source+"_parallax";position_id="#"+panel_source+"_position";repeat_id="#"+panel_source+"_repeat";attachment_id="#"+panel_source+"_attachment";source_id="#"+panel_source+"_source";jQuery(color_id).attr("value",color);jQuery(image_id).attr("value",image);jQuery(size_id).attr("value",bg_size);jQuery(parallax_id).attr("value",bg_parallax);jQuery(position_id).attr("value",position);jQuery(repeat_id).attr("value",repeat);jQuery(attachment_id).attr("value",attachment);jQuery(source_id).attr("value",image_source);if(image!=""){jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-image":"url("+image+")"})}if(image_source=="no-image"){jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-image":"none"})}jQuery(section_preview_class).find(".mk-bg-preview-layer").css({"background-color":color,"background-position":position,"background-repeat":repeat,"background-attachment":attachment});panel.fadeOut(200);panel.find("#bg_panel_color").val("");jQuery(".bg-position-option").find(".selected").removeClass("selected");jQuery(".bg-repeat-option").find(".selected").removeClass("selected");jQuery(".bg-attachment-option").find(".selected").removeClass("selected");jQuery("#bg_panel_upload").val("");jQuery(".bg-image-preset-thumbs").find(".selected").removeClass("selected");jQuery(".custom-image-preview-block img").attr("src","")})}i();function j(){jQuery(".page-section, .body-section, .header-section, .footer-section, .banner-section").each(function(){this_panel=jQuery(this);this_panel_rel=this_panel.attr("rel");color_id="#"+this_panel_rel+"_color";image_id="#"+this_panel_rel+"_image";position_id="#"+this_panel_rel+"_position";repeat_id="#"+this_panel_rel+"_repeat";attachment_id="#"+this_panel_rel+"_attachment";color=jQuery(color_id).val();image=jQuery(image_id).val();position=jQuery(position_id).val();repeat=jQuery(repeat_id).val();attachment=jQuery(attachment_id).val();if(image!=""){jQuery(this_panel).find(".mk-bg-preview-layer").css({"background-image":"url("+image+")"})}jQuery(this_panel).find(".mk-bg-preview-layer").css({"background-color":color,"background-position":position,"background-repeat":repeat,"background-attachment":attachment})})}j();function k(){jQuery(".mk-specific-bg-selector").each(function(){var a="#"+jQuery(this).attr("id");background_source_type=jQuery(a).find(".specific-image-source").val();jQuery(a).find(".bg-background-type-tabs li a").each(function(){if(jQuery(this).attr("rel")==background_source_type){jQuery(this).parent().addClass("current")}});if(background_source_type=="preset"){jQuery(a).find(".bg-background-type-pane.specific-image-preset").show()}else if(background_source_type=="no-image"){jQuery(a).find(".bg-background-type-pane.specific-no-image").show()}else if(background_source_type=="custom"){jQuery(a).find(".bg-background-type-pane.specific-edit-panel-upload").show()}jQuery(a).find(".bg-background-type-tabs li a").on("click",function(b){b.preventDefault();jQuery(a).find(".specific-image-source").val(jQuery(this).attr("rel"));jQuery(a).find(".bg-background-type-panes").children(".bg-background-type-pane").hide();jQuery(this).parent().siblings().removeClass("current").end().addClass("current");if(jQuery(this).attr("rel")=="preset"){jQuery(a).find(".bg-background-type-pane.specific-image-preset").show()}else if(jQuery(this).attr("rel")=="no-image"){jQuery(a).find(".bg-background-type-pane.specific-no-image").show()}else if(jQuery(this).attr("rel")=="custom"){jQuery(a).find(".bg-background-type-pane.specific-edit-panel-upload").show()}});jQuery(a).find(".mk-specific-edit-option-repeat").each(function(){saved_value=jQuery(this).find("input").val();jQuery(this).find('a[rel="'+saved_value+'"]').siblings().removeClass("selected").end().addClass("selected");repeat_saved_value=jQuery(this).find("input").val();jQuery(this).find("a").click(function(){this_rel=jQuery(this).attr("rel");jQuery(this).siblings("input").val(this_rel)})});jQuery(a).find(".mk-specific-edit-option-attachment").each(function(){saved_value=jQuery(this).find("input").val();jQuery(this).find('a[rel="'+saved_value+'"]').siblings().removeClass("selected").end().addClass("selected");attachment_saved_value=jQuery(this).find("input").val();jQuery(this).find("a").click(function(){this_rel=jQuery(this).attr("rel");jQuery(this).siblings("input").val(this_rel)})});jQuery(a).find(".mk-specific-edit-option-position").each(function(){saved_value=jQuery(this).find("input").val();jQuery(this).find('a[rel="'+saved_value+'"]').siblings().removeClass("selected").end().addClass("selected");
jQuery(this).find("a").click(function(){this_rel=jQuery(this).attr("rel");jQuery(this).siblings("input").val(this_rel)})});jQuery(a).find(".mk-specific-edit-option-position").each(function(){saved_value=jQuery(this).find("input").val();jQuery(this).find('a[rel="'+saved_value+'"]').siblings().removeClass("selected").end().addClass("selected");jQuery(this).find("a").click(function(){this_rel=jQuery(this).attr("rel");jQuery(this).siblings("input").val(this_rel)})});jQuery(a).find(".specific-image-preset").each(function(){saved_value=jQuery(this).find("input").val();jQuery(this).find('a[rel="'+saved_value+'"]').parent().siblings().removeClass("selected").end().addClass("selected");jQuery(this).find("a").click(function(){this_rel=jQuery(this).attr("rel");jQuery(this).parents(".specific-image-preset").find("input").val(this_rel)})})})}k()});jQuery(document).ready(function(){jQuery(".masterkey-options-page form").each(function(){var a=jQuery(this);jQuery("button",a).bind("click keypress",function(){a.data("callerid",this.id)})});jQuery("form#masterkey_settings").submit(function(){var a=jQuery(this).data("callerid");function b(){var a=jQuery("#masterkey_settings input, #masterkey_settings select, #masterkey_settings textarea[name!=theme_export_options]").serialize();return a}jQuery(":hidden").change(b);jQuery("select").change(b);var c=b();jQuery("#mk-saving-settings").show();data=c+"&button_clicked="+a;jQuery.post(ajaxurl,data,function(a){jQuery("#mk-saving-settings").hide();show_message(a)});return false});jQuery("#mk_reset_confirm").click(function(){jQuery("#mk-are-u-sure").show();return false});jQuery("#mk_reset_cancel").click(function(){jQuery("#mk-are-u-sure").hide();return false});jQuery("#mk_reset_ok").click(function(){jQuery("#mk-are-u-sure").show();jQuery("#reset_theme_options").trigger("click");return false});jQuery("#masterkey_settings input").keypress(function(a){if(a.which==13){a.preventDefault()}})});function show_message(a){if(a==1){jQuery("#mk-success-save").show();setTimeout(function(){jQuery("#mk-success-save").hide()},1500)}if(a==0){jQuery("#mk-not-saved").show();setTimeout(function(){jQuery("#mk-not-saved").hide()},1500)}if(a==2){jQuery("#mk-already-saved").show();setTimeout(function(){jQuery("#mk-already-saved").hide()},1500)}if(a==3){jQuery("#mk-success-reset").show();setTimeout(function(){location.reload()},2e3)}if(a==4){jQuery("#mk-success-import").show();setTimeout(function(){location.reload()},2e3)}if(a==5){jQuery("#mk-fail-import").show();setTimeout(function(){jQuery("#mk-fail-import").hide()},1500)}}var timer;resize_body_section();jQuery(window).resize(function(){clearTimeout(timer);setTimeout(resize_body_section,100)});function resize_body_section(){body_section_width=jQuery(".mk-general-bg-selector .outer-wrapper").width();jQuery(".mk-general-bg-selector.boxed_layout .body-section").css("width",body_section_width)}(function(a,b,c){a.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(a){d(a)});d("focusin","focus"+c);d("focusout","blur"+c);a.addOutsideEvent=d;function d(d,e){e=e||d+c;var f=a(),g=d+"."+e+"-special-event";a.event.special[e]={setup:function(){f=f.add(this);if(f.length===1){a(b).bind(g,h)}},teardown:function(){f=f.not(this);if(f.length===0){a(b).unbind(g)}},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c;b.apply(this,arguments)}}};function h(b){a(f).each(function(){var c=a(this);if(this!==b.target&&!c.has(b.target).length){c.triggerHandler(e,[b.target])}})}}})(jQuery,document,"outside");